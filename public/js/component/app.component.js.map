{"version":3,"sources":["../../app/src/component/app.component.ts"],"names":[],"mappings":"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","file":"app.component.js","sourcesContent":["import {\r\n    Component,\r\n    OnInit,\r\n    Renderer2,\r\n    Inject\r\n} from '@angular/core';\r\nimport 'rxjs/Subject';\r\nimport 'rxjs/add/operator/filter';\r\nimport { PathLocationStrategy } from '@angular/common';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Router, ActivatedRoute, ActivatedRouteSnapshot, RoutesRecognized, NavigationStart, NavigationEnd } from '@angular/router';\r\n\r\nimport { CONFIG_TOKEN } from '../constants';\r\n\r\nimport { AppHttp } from '../data/app-http';\r\n\r\nimport { User } from \"../model/user\";\r\nimport { Config } from '../model/config';\r\n\r\nimport { AppService } from '../service/app.service';\r\nimport { UserService } from '../service/user.service';\r\n\r\nimport { DialogAnim, ToggleAnim, ShrinkAnim } from '../util/anim.util';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: 'improvplus',\r\n    templateUrl: '../template/app.component.html',\r\n    animations: [\r\n        DialogAnim.dialog,\r\n        ToggleAnim.fade,\r\n        ToggleAnim.bubble,\r\n        ShrinkAnim.vertical\r\n    ]\r\n})\r\nexport class AppComponent implements OnInit {\r\n\r\n    config: Config;\r\n\r\n    scrollpos: number = 0;\r\n    showToolbarScrollPosition: number = 20;\r\n    toolbarVisible: boolean;\r\n\r\n    private scrollSource = new Subject<number>();\r\n    onScroll$ = this.scrollSource.asObservable()\r\n\r\n    inApp: boolean;\r\n    backgroundRequested: boolean;\r\n    backgroundVisible: boolean;\r\n\r\n    // loader = document.getElementById(\"siteLoader\");\r\n    loaderVisible: boolean = true;\r\n\r\n    showMenu: boolean = false;\r\n    showFullscreen: boolean = false;\r\n\r\n    whiteBrackets: boolean = false;\r\n\r\n    private _teamCount: number;\r\n    private _teamId: string;\r\n\r\n    // Login stuff\r\n    redirectUrl: string;\r\n    user: User;\r\n    showLogin: boolean;\r\n    userSubscription: Subscription;\r\n\r\n    // the dialog / menu backdrop\r\n    showBackdrop: boolean;\r\n\r\n    // generic dialogs\r\n    showDialog: boolean = false;\r\n    dialogTitle: string = \"\";\r\n    dialogMessage: string = \"\";\r\n    dialogCancel: string = \"\";\r\n    dialogConfirm: string = \"\";\r\n    dialogOnConfirm: Function;\r\n    dialogHideCancel: boolean = true;\r\n    dialogPrompt: string;\r\n    dialogInput: string;\r\n\r\n    toastMessage: string;\r\n    private toastMessageQueue: string[] = [];\r\n\r\n    constructor(\r\n        @Inject(CONFIG_TOKEN) config: Config,\r\n\r\n        private _renderer: Renderer2,\r\n        private router: Router,\r\n        private _route: ActivatedRoute,\r\n        private _service: AppService,\r\n        private userService: UserService,\r\n        private pathLocationStrategy: PathLocationStrategy,\r\n        private http: AppHttp\r\n    ) {\r\n        this.config = config;\r\n     }\r\n\r\n    ngOnInit() {\r\n        this.hideLoader();\r\n\r\n        this.router.events.filter(event => event instanceof NavigationStart).subscribe(event => {\r\n            this.backgroundVisible = true;\r\n            this.backgroundRequested = false;\r\n            this.showWhiteBrackets(false);\r\n            this.closeOverlays();\r\n            this.showLoader();\r\n        });\r\n\r\n        this.router.events.filter(event => event instanceof NavigationEnd).subscribe(event => {\r\n            if (!this.backgroundRequested) {\r\n                this.backgroundVisible = false;\r\n            }\r\n            this.hideLoader();\r\n\r\n            if ((<NavigationStart> event).url.indexOf('/app') > -1) {\r\n                this.inApp = true;\r\n            } else {\r\n                this.inApp = false;\r\n            }\r\n        })\r\n\r\n        this.setUser(this.userService.getLoggedInUser());\r\n\r\n        this.userSubscription = this.userService.loginState$.subscribe(user => {\r\n            if (!this.user) {\r\n                // we just logged in\r\n                let path:string[] = [];\r\n\r\n                if (this._service.getRedirect()) {\r\n                    path.push('app');\r\n                    this._service.getRedirect().forEach(segment => {\r\n                        path.push(segment.path);\r\n                    });\r\n                } else {\r\n                    path.push('app/dashboard');\r\n                }\r\n                setTimeout(() => {\r\n                    this.router.navigate(path, { replaceUrl: true });\r\n                    window.scrollTo(0, 0);\r\n                }, 0);\r\n            }\r\n            if (!user) {\r\n                // we just logged out\r\n                setTimeout(() => {\r\n                    this.router.navigate(['/']);\r\n                    window.scrollTo(0,0);\r\n                    this.hideLoader();\r\n                });\r\n            }\r\n\r\n            this.setUser(user);\r\n        });\r\n\r\n        if (this.userService.getLoggedInUser()) {\r\n            // TODO: where is the best place for this?\r\n            this.userService.refreshToken().catch(() => {\r\n                this.toast('There was a problem refreshing your login.');\r\n            });\r\n        }\r\n\r\n        setTimeout(() => {\r\n            let siteLoader = document.getElementById(\"siteLoader\");\r\n            siteLoader.style.opacity = \"0\";\r\n            setTimeout(() => {\r\n                siteLoader.remove();\r\n            }, 500);\r\n        }, 100);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.userSubscription.unsubscribe();\r\n    }\r\n    \r\n    onScroll(): void {\r\n        this.scrollpos = document.scrollingElement.scrollTop; //$event.target.scrollingElement.scrollTop;\r\n        \r\n        this.toolbarVisible = this.scrollpos > this.showToolbarScrollPosition;\r\n\r\n        this.scrollSource.next(this.scrollpos);\r\n    }\r\n\r\n    showLoader(): void {\r\n        this.loaderVisible = true;\r\n        this.showBackdrop = true;\r\n    }\r\n\r\n    hideLoader(): void {\r\n        this.loaderVisible = false;\r\n        this.showBackdrop = false;\r\n    }\r\n\r\n    showBackground(show: boolean): void {\r\n        this.backgroundRequested = true;\r\n        setTimeout(() => {\r\n            this.backgroundVisible = show;\r\n        }, 50);\r\n    }\r\n\r\n    showWhiteBrackets(show: boolean): void {\r\n        this.whiteBrackets = show;\r\n    }\r\n\r\n    setUser(user: User): void {\r\n        this.user = user;\r\n        if (this.user) {\r\n            this._teamCount = this.user.adminOfTeams.length + this.user.memberOfTeams.length;\r\n            if (this._teamCount == 1) {\r\n                this._teamId = <string> this.user.adminOfTeams[0] || <string> this.user.memberOfTeams[0];\r\n            }\r\n        } else {\r\n            this._teamCount = 0;\r\n            this._teamId = '';\r\n        }\r\n    }\r\n\r\n    toggleNav(): void {\r\n        if (this.userService.getLoggedInUser()) {\r\n            this.showMenu = !this.showMenu;\r\n            this.showBackdrop = this.showMenu;\r\n        } else {\r\n            this.router.navigate(['/welcome']);\r\n        }\r\n    }\r\n\r\n    closeOverlays(): void {\r\n        this.showDialog = false;\r\n        this.showMenu = false;\r\n        this.showLogin = false;\r\n        this.showBackdrop = false;\r\n    }\r\n\r\n    backdrop(show: boolean): void {\r\n        this.showBackdrop = show;\r\n    }\r\n\r\n    fullscreen(): void {\r\n        // are we full-screen?\r\n        if (document.fullscreenElement ||\r\n            document.webkitFullscreenElement) {\r\n            \r\n            // exit full-screen\r\n            if (document.exitFullscreen) {\r\n                document.exitFullscreen();\r\n            } else if (document.webkitExitFullscreen) {\r\n                document.webkitExitFullscreen();\r\n            }\r\n\r\n            this.showFullscreen = false;\r\n        } else {\r\n            var i = document.body;\r\n            // go full-screen\r\n            if (i.requestFullscreen) {\r\n                i.requestFullscreen();\r\n            } else if (i.webkitRequestFullscreen) {\r\n                i.webkitRequestFullscreen();\r\n            }\r\n\r\n            this.showFullscreen = true;\r\n        }\r\n    }\r\n\r\n    dialog(title: string, body: string, button?: string, onConfirm?: Function, hideCancel?: boolean, prompt?: string): void {\r\n        this.dialogTitle = title;\r\n        this.dialogMessage = body;\r\n        this.dialogConfirm = button;\r\n        this.dialogOnConfirm = onConfirm;\r\n        this.dialogPrompt = prompt || '';\r\n\r\n        this.dialogInput = '';\r\n\r\n        this.dialogCancel = button ? button.toLocaleLowerCase() == 'yes' ? 'No' : 'Cancel' : 'Okay then';\r\n\r\n        this.dialogHideCancel = hideCancel;\r\n\r\n        this.showDialog = true;\r\n        this.showBackdrop = true;\r\n    }\r\n\r\n    onDialogDismiss(): void {\r\n        this.closeOverlays();\r\n    }\r\n\r\n    onDialogConfirm(): void {\r\n        if (this.dialogPrompt && !this.dialogInput) {\r\n            return;\r\n        }\r\n        if (this.dialogOnConfirm) {\r\n            if (this.dialogOnConfirm(this.dialogInput) !== false) {\r\n                this.closeOverlays();\r\n            }\r\n        } else {\r\n            this.closeOverlays();\r\n        }\r\n    }\r\n\r\n    private _toastTimer: NodeJS.Timer;\r\n    toast(message: string): void {\r\n        this.toastMessageQueue.push(message);\r\n        if (!this.toastMessage) {\r\n            this.hideToast();\r\n        }\r\n    }\r\n\r\n    hideToast(): void {\r\n        clearTimeout(this._toastTimer);\r\n        if (this.toastMessageQueue.length) {\r\n            this.toastMessage = this.toastMessageQueue.shift();\r\n            this._toastTimer = setTimeout(() => {\r\n                this.hideToast();\r\n            }, 5000);\r\n        } else {\r\n            this.toastMessage = '';\r\n        }\r\n    }\r\n\r\n    login(): void {\r\n        if (this.userService.getLoggedInUser()) {\r\n            this.router.navigate(['/app']);\r\n        } else {\r\n            this.closeOverlays();\r\n            this.showLogin = true;\r\n            this.showBackdrop = true;\r\n        }\r\n    }\r\n\r\n    handleLogin(user: User): void {\r\n        this.closeOverlays();\r\n\r\n        if (!user) {\r\n            this.router.navigate(['/welcome']);\r\n        } else if (this.inApp || this.router.url == '/login') {\r\n            this.router.navigate(['/app']);\r\n        }\r\n    }\r\n\r\n    logout(): void {\r\n        this.showLoader();\r\n        this.userService.logout();\r\n    }\r\n\r\n    setPath(path: string): void {\r\n        let pathWithoutApp = path.replace('/app', ''),\r\n            pathRoot = pathWithoutApp.split('/')[1];\r\n\r\n        if (this.pathLocationStrategy.path().indexOf('/' + pathRoot + '/') > -1) {\r\n            this.pathLocationStrategy.replaceState({}, '', path, '');\r\n        } else {\r\n            this.pathLocationStrategy.pushState({}, '', path, '');\r\n        }\r\n    }\r\n\r\n    scrollTo(to: number, duration?: number) {\r\n        let maxScroll = document.body.scrollHeight - window.innerHeight;\r\n        if (maxScroll < to) {\r\n            duration = duration * (maxScroll / to);\r\n            to = maxScroll;\r\n        }\r\n        \r\n        let from = window.scrollY,\r\n            difference = to - from,\r\n            perTick = duration > 0 ? difference / duration * 10 : difference;\r\n\r\n        duration = duration || Math.abs(difference);\r\n\r\n        let easeInOutQuad = function (time: number, start: number, end: number, duration: number) {\r\n            let reverse = false,\r\n                s, e, val;\r\n            if (start > end) {\r\n                reverse = true;\r\n                s = end;\r\n                e = start;\r\n            } else {\r\n                s = start;\r\n                e = end;\r\n            }\r\n\r\n            time /= duration/2;\r\n            if (time < 1) val = e/2*time*time + s;\r\n            time--;\r\n            val = -e/2 * (time*(time-2) - 1) + s;\r\n\r\n            if (reverse) {\r\n                return end - val;\r\n            } else {\r\n                return val;\r\n            }\r\n        }\r\n\r\n        let startTime = 0;\r\n\r\n        let scrollFunc = function(time: number) {\r\n\r\n            if (startTime === 0) {\r\n                startTime = time;\r\n            }\r\n            if (window.scrollY === to || (time - startTime) >= duration) {\r\n                return;\r\n            }\r\n\r\n            window.scroll(0, easeInOutQuad((time - startTime), from, to, duration));\r\n            requestAnimationFrame(scrollFunc);\r\n        };\r\n\r\n        requestAnimationFrame(scrollFunc);\r\n    }\r\n    \r\n}\r\n"]}