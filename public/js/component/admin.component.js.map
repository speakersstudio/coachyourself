{"version":3,"sources":["../../app/src/component/admin.component.ts"],"names":[],"mappings":"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","file":"admin.component.js","sourcesContent":["import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport {AppComponent} from '../component/app.component';\r\n\r\nimport { API } from '../constants';\r\n\r\nimport { TabData } from '../model/tab-data';\r\n\r\nimport { AppService } from '../service/app.service';\r\nimport { LibraryService } from '../service/library.service';\r\nimport { HistoryService } from '../service/history.service';\r\n\r\nimport { Subscription } from '../model/subscription';\r\nimport { Package } from '../model/package';\r\nimport { MaterialItem, MaterialItemVersion } from '../model/material-item';\r\nimport { HistoryModel } from '../model/history';\r\n\r\nimport { UserService } from '../service/user.service';\r\n\r\nimport { TimeUtil } from '../util/time.util';\r\n\r\nimport { AppHttp } from '../data/app-http';\r\n\r\nimport { Util } from '../util/util';\r\nimport { DialogAnim } from '../util/anim.util';\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: \"admin\",\r\n    templateUrl: \"../template/admin.component.html\",\r\n    animations: [DialogAnim.dialog]\r\n})\r\nexport class AdminComponent implements OnInit {\r\n\r\n    @ViewChild('versionFileInput') versionFileInput: ElementRef;\r\n\r\n    tabs: TabData[] = [\r\n        {\r\n            name: 'Material Items',\r\n            id: 'materials',\r\n            icon: 'file'\r\n        },\r\n        {\r\n            name: 'Packages',\r\n            id: 'packages',\r\n            icon: 'book'\r\n        },\r\n        {\r\n            name: 'History',\r\n            id: 'history',\r\n            icon: 'history'\r\n        }\r\n    ];\r\n    selectedTab: string = 'materials';\r\n\r\n    materialItems: MaterialItem[];\r\n    selectedMaterial: MaterialItem;\r\n\r\n    newVersion: MaterialItemVersion;\r\n    newVersionFile: File;\r\n\r\n    packages: Package[];\r\n    selectedPackage: Package;\r\n    selectedPackageDescription: string;\r\n\r\n    selectPackageDialogVisible: boolean;\r\n    selectMaterialDialogVisible: boolean;\r\n\r\n    histories: HistoryModel[];\r\n    historyDisplayCount: number = 0;\r\n    rawHistories: HistoryModel[];\r\n    historyShowRefresh: boolean;\r\n    historyShowLogin: boolean;\r\n    historyShowStuff: boolean = true;\r\n\r\n    isPosting: boolean;\r\n\r\n    constructor(\r\n        public _app: AppComponent,\r\n        private router: Router,\r\n        private _service: AppService,\r\n        private libraryService: LibraryService,\r\n        private userService: UserService,\r\n        private historyService: HistoryService,\r\n        private http: AppHttp\r\n    ) { }\r\n\r\n    // _tools: Tool[] = [\r\n    //     {\r\n    //         icon: \"fa-database\",\r\n    //         name: \"backup\",\r\n    //         text: \"Back Up Database\"\r\n    //     },\r\n    //     {\r\n    //         icon: \"fa-cloud-upload\",\r\n    //         name: \"restoredb\",\r\n    //         text: \"Restore Database from Backup\"\r\n    //     }\r\n    // ]\r\n\r\n    // onToolClicked(tool: Tool): void {\r\n    //     switch (tool.name) {\r\n    //         case \"backup\":\r\n    //             this.doBackup();\r\n    //             break;\r\n    //         case \"restoredb\":\r\n    //             this.restore();\r\n    //             break;\r\n    //     }\r\n    // }\r\n\r\n    ngOnInit(): void {\r\n        this.showMaterials();\r\n        this.showPackages();\r\n        this.getHistory();\r\n    }\r\n\r\n    selectTab(tab: TabData): void {\r\n        this.selectedTab = tab.id;\r\n\r\n        this.selectedMaterial = null;\r\n        this.selectedPackage = null;\r\n    }\r\n\r\n    back(): void {\r\n        this.selectedMaterial = null;\r\n        this.selectedPackage = null;\r\n    }\r\n\r\n    simpleDate(date: string): string {\r\n        return TimeUtil.simpleDate(date);\r\n    }\r\n\r\n    simpleDateTime(date: string): string {\r\n        return TimeUtil.simpleDate(date) + ' ' + TimeUtil.simpleTime(date);\r\n    }\r\n\r\n    showMaterials(): void {\r\n        this.libraryService.getAllMaterials()\r\n            .then(materials => {\r\n                this._app.hideLoader();\r\n                this.materialItems = materials;\r\n            });\r\n    }\r\n\r\n    showPackages(): void {\r\n        this.libraryService.getAllPackages()\r\n            .then(packages => {\r\n                this.packages = packages;\r\n            })\r\n    }\r\n\r\n    getHistory(): void {\r\n        this.historyService.getAllHistory().then(histories => {\r\n            this.rawHistories = histories;\r\n            this.filterHistory();\r\n        });\r\n    }\r\n\r\n    getHistoryIcon(history: HistoryModel): string {\r\n        switch(history.action) {\r\n            case 'game_edit':\r\n                return 'fa-rocket';\r\n            case 'material_view':\r\n                return 'fa-file-pdf-o';\r\n            case 'change_password':\r\n                return 'fa-key';\r\n            case 'note_edit':\r\n                return 'fa-sticky-note';\r\n            case 'account_edit':\r\n                return 'fa-user';\r\n            case 'team_join':\r\n                return 'fa-user-plus';\r\n            case 'team_leave':\r\n                return 'fa-user-times';\r\n            case 'team_user_promote':\r\n                return 'fa-black-tie';\r\n            case 'login':\r\n                return 'fa-sign-in';\r\n            case 'logout':\r\n                return 'fa-sign-out';\r\n            case 'refresh':\r\n                return 'fa-refresh';\r\n            default:\r\n                return 'fa-history';\r\n        }\r\n    }\r\n\r\n    historyLink(event: MouseEvent, history: HistoryModel): void {\r\n\r\n        event.preventDefault();\r\n\r\n    }\r\n\r\n    expandedHistory: HistoryModel;\r\n    expandedHistoryTargetName: string;\r\n    expandHistory(history: HistoryModel): void {\r\n        if (this.expandedHistory == history ||\r\n                history.action == 'login' || history.action == 'logout' || history.action == 'refresh') {\r\n\r\n            this.expandedHistory = null;\r\n            return;\r\n        }\r\n\r\n        this.expandedHistory = history;\r\n\r\n        let target = history.target,\r\n            reference = history.reference;\r\n\r\n        this.expandedHistoryTargetName = 'loading';\r\n\r\n        switch(history.action) {\r\n            default:\r\n                this.expandedHistoryTargetName = '';\r\n                break;\r\n        }\r\n    }\r\n\r\n    filterHistory(): void {\r\n        setTimeout(() => {\r\n            let count = 0;\r\n            this.histories = [];\r\n            this.rawHistories.some(h => {\r\n                let include;\r\n                if (h.action == 'refresh') {\r\n                    include = this.historyShowRefresh;\r\n                } else if (h.action == 'login' || h.action == 'logout' ) {\r\n                    include = this.historyShowLogin;\r\n                } else {\r\n                    include = this.historyShowStuff;\r\n                }\r\n                if (include) {\r\n                    this.histories.push(h)\r\n                    count++;\r\n                    if (count >= this.historyDisplayCount) {\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            });\r\n            setTimeout(() => {\r\n                this.isPosting = false;\r\n            }, 10);\r\n        }, 10);\r\n    }\r\n\r\n    loadMoreHistory(count: number): void {\r\n        this.isPosting = true;\r\n\r\n        this.historyDisplayCount = (30 * count);\r\n        this.filterHistory();\r\n    }\r\n\r\n    selectMaterial(material: MaterialItem): void {\r\n        this.newVersion = new MaterialItemVersion();\r\n        this.selectedMaterial = material;\r\n        this.selectedTab = null;\r\n    }\r\n\r\n    selectPackage(p: Package): void {\r\n        this.selectedPackage = p;\r\n        this.selectedTab = null;\r\n\r\n        this.selectedPackageDescription = p.description.join('\\n');\r\n    }\r\n\r\n    createMaterial(): void {\r\n        this.libraryService.createMaterial().then(m => {\r\n            this.materialItems.push(m);\r\n            this.selectMaterial(m);\r\n        });\r\n    }\r\n\r\n    createPackage(): void {\r\n        this.libraryService.createPackage().then(p => {\r\n            this.packages.push(p);\r\n            this.selectPackage(p);\r\n        })\r\n    }\r\n\r\n    saveMaterial(): void {\r\n        if (typeof(this.selectedMaterial.tags) == 'string') {\r\n            let tags:string = this.selectedMaterial.tags;\r\n            let tagArray:string[] = [];\r\n            tags.split(',').forEach(t => {\r\n                tagArray.push(t.trim());\r\n            });\r\n            this.selectedMaterial.tags = tagArray;\r\n        }\r\n        this.libraryService.saveMaterial(this.selectedMaterial).then(() => {\r\n            this._app.toast('It is done.');\r\n        });\r\n    }\r\n\r\n    savePackage(): void {\r\n        let descArray = this.selectedPackageDescription.split('\\n');\r\n\r\n        this.selectedPackage.description = descArray;\r\n        this.libraryService.savePackage(this.selectedPackage).then(() => {\r\n            this._app.toast('It is done.');\r\n        });\r\n    }\r\n\r\n    fileChange(): void {\r\n        let fileInput = this.versionFileInput.nativeElement;\r\n        this.newVersionFile = fileInput.files[0];\r\n    }\r\n\r\n    saveVersion(): void {\r\n        this.libraryService.postNewVersion(this.selectedMaterial._id, this.newVersion, this.newVersionFile).then(m => {\r\n            this.selectedMaterial.versions = m.versions;\r\n        });\r\n    }\r\n\r\n    deleteVersion(version: MaterialItemVersion): void {\r\n        this.libraryService.deleteVersion(this.selectedMaterial._id, version).then(m => {\r\n            this.selectedMaterial.versions = m.versions;\r\n        })\r\n    }\r\n\r\n    doBackup(): void {\r\n        this.http.get('/api/backup').toPromise().then(response => {\r\n            let data = response.json();\r\n            this._app.toast(data.timestamp);\r\n        })\r\n    }\r\n\r\n    restore(): void {\r\n        this._app.dialog('Are you sure?', 'Restoring the database backup cannot be undone or stopped.', 'Do it', (timestamp: string) => {\r\n            setTimeout(() => {\r\n                this._app.toast('Restoring data . . .');\r\n                this._app.showLoader();\r\n                this.http.put('/api/restore', {timestamp: timestamp}).toPromise().then(response => {\r\n                    this._app.hideLoader();\r\n                    this._app.toast('Data restored');\r\n                });\r\n            }, 10);\r\n        }, false, 'Timestamp');\r\n    }\r\n\r\n    deleteMaterial(): void {\r\n        this._app.showLoader();\r\n        this.libraryService.deleteMaterial(this.selectedMaterial).then(() => {\r\n            let index = Util.indexOfId(this.materialItems, this.selectedMaterial);\r\n            if (index > -1) {\r\n                this.materialItems.splice(index, 1);\r\n            }\r\n            this.selectedMaterial = null;\r\n            this._app.hideLoader();\r\n        });\r\n    }\r\n\r\n    deletePackage(): void {\r\n        this._app.showLoader();\r\n        this.libraryService.deletePackage(this.selectedPackage).then(() => {\r\n            let index = Util.indexOfId(this.packages, this.selectedPackage);\r\n            if (index > -1) {\r\n                this.packages.splice(index, 1);\r\n            }\r\n            this.selectedPackage = null;\r\n            this._app.hideLoader();\r\n        });\r\n    }\r\n\r\n    removePackageFromPackage(pkg: Package): void {\r\n        let index = Util.indexOfId(this.selectedPackage.packages, pkg);\r\n        this.selectedPackage.packages.splice(index, 1);\r\n        this.libraryService.savePackagePackages(this.selectedPackage)\r\n            .then(() => {\r\n                this._app.toast('Package Packages saved');\r\n            });\r\n    }\r\n\r\n    removeMaterialFromPackage(material: MaterialItem): void {\r\n        let index = Util.indexOfId(this.selectedPackage.materials, material);\r\n        this.selectedPackage.materials.splice(index, 1);\r\n        this.libraryService.savePackageMaterials(this.selectedPackage)\r\n            .then(() => {\r\n                this._app.toast('Package Materials saved');\r\n            });\r\n    }\r\n\r\n    packagePackagesDropped(droppedId: string, ontoId: string): void {\r\n        let indexFrom, indexTo;\r\n        indexFrom = Util.indexOfId(this.selectedPackage.packages, droppedId);\r\n        indexTo = Util.indexOfId(this.selectedPackage.packages, ontoId);\r\n\r\n        let packageToMove = this.selectedPackage.packages[indexFrom];\r\n        this.selectedPackage.packages.splice(indexFrom, 1);\r\n        this.selectedPackage.packages.splice(indexTo, 0, packageToMove);\r\n\r\n        this.libraryService.savePackagePackages(this.selectedPackage)\r\n            .then(() => {\r\n                this._app.toast('Package Packages saved');\r\n            });\r\n    }\r\n\r\n    packageMaterialsDropped(droppedId: string, ontoId: string): void {\r\n        let indexFrom, indexTo;\r\n        indexFrom = Util.indexOfId(this.selectedPackage.materials, droppedId);\r\n        indexTo = Util.indexOfId(this.selectedPackage.materials, ontoId);\r\n\r\n        let materialToMove = this.selectedPackage.materials[indexFrom];\r\n        this.selectedPackage.materials.splice(indexFrom, 1);\r\n        this.selectedPackage.materials.splice(indexTo, 0, materialToMove);\r\n\r\n        this.libraryService.savePackageMaterials(this.selectedPackage)\r\n            .then(() => {\r\n                this._app.toast('Package Materials saved');\r\n            });\r\n    }\r\n\r\n    cancelSelectMaterialDialog(): void {\r\n        this.selectMaterialDialogVisible = false;\r\n        this.selectPackageDialogVisible = false;\r\n        this._app.backdrop(false);\r\n    }\r\n\r\n    showSelectMaterialDialog(): void {\r\n        this.selectMaterialDialogVisible = true;\r\n        this.selectPackageDialogVisible = false;\r\n        this._app.backdrop(true);\r\n    }\r\n\r\n    showSelectPackageDialog(): void {\r\n        this.selectPackageDialogVisible = true;\r\n        this.selectMaterialDialogVisible = false;\r\n        this._app.backdrop(true);\r\n    }\r\n\r\n    selectPackageForPackage(pkg: Package): void {\r\n        this.selectedPackage.packages.push(pkg);\r\n\r\n        this.libraryService.savePackagePackages(this.selectedPackage)\r\n            .then(() => {\r\n                this._app.toast('Package Packages saved');\r\n            });\r\n    }\r\n\r\n    selectMaterialForPackage(material: MaterialItem): void {\r\n        this.selectedPackage.materials.push(material);\r\n\r\n        this.libraryService.savePackageMaterials(this.selectedPackage)\r\n            .then(() => {\r\n                this._app.toast('Package Materials saved');\r\n            });\r\n    }\r\n\r\n}\r\n"]}