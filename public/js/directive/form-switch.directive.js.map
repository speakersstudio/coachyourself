{"version":3,"sources":["../../app/src/directive/form-switch.directive.ts"],"names":[],"mappings":"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","file":"form-switch.directive.js","sourcesContent":["import {\r\n    Directive,\r\n    ElementRef,\r\n    OnInit,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    Renderer2\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[formSwitch]',\r\n    host: {\r\n    }\r\n})\r\nexport class FormSwitchDirective implements OnInit {\r\n\r\n    inputElement: HTMLInputElement;\r\n\r\n    wrapper: HTMLSpanElement;\r\n    control: HTMLSpanElement;\r\n\r\n    private _on: boolean;\r\n\r\n    constructor(\r\n        el: ElementRef,\r\n        private renderer: Renderer2\r\n        ) {\r\n        this.inputElement = el.nativeElement;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        let classes = this.inputElement.className;\r\n\r\n        this.inputElement.setAttribute('type', 'checkbox');\r\n\r\n        this.wrapper = document.createElement('span');\r\n        this.wrapper.className = classes + ' form-switch';\r\n\r\n        if (this.inputElement.name) {\r\n            this.wrapper.className += ' form-switch-' + this.inputElement.name;\r\n        }\r\n\r\n        this.inputElement.parentElement.insertBefore(this.wrapper, this.inputElement);\r\n        this.wrapper.appendChild(this.inputElement);\r\n\r\n        this.control = document.createElement('i');\r\n        this.control.className = 'control';\r\n        this.wrapper.appendChild(this.control);\r\n\r\n        let clickHandler;\r\n        if (this.wrapper.parentElement.tagName.toLowerCase() == 'label') {\r\n            clickHandler = this.wrapper.parentElement;\r\n        } else {\r\n            clickHandler = this.wrapper;\r\n        }\r\n\r\n        this.renderer.listen(clickHandler, 'click', e => this.click(e));\r\n\r\n        setTimeout(() => {\r\n            if (this.inputElement.checked) {\r\n                this._on = true;\r\n                this.wrapper.classList.add('on');\r\n            }\r\n        }, 50);\r\n    }\r\n\r\n    click(event: MouseEvent): void {\r\n        if (!this._on) {\r\n            this.wrapper.classList.add('on');\r\n            this._on = true;\r\n        } else {\r\n            this.wrapper.classList.remove('on');\r\n            this._on = false;\r\n        }\r\n        \r\n        this.inputElement.checked = this._on;\r\n        this.inputElement.dispatchEvent(new Event('change'));\r\n\r\n        event.preventDefault();\r\n    }\r\n    \r\n}"]}