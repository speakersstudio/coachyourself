{"version":3,"sources":["../../app/src/view/bracket-card.directive.ts"],"names":[],"mappings":"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","file":"bracket-card.directive.js","sourcesContent":["import {\r\n    Directive,\r\n    ElementRef,\r\n    OnInit,\r\n    Input\r\n} from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[bracketCard]'\r\n})\r\nexport class BracketCardDirective implements OnInit {\r\n\r\n    @Input() error: string;\r\n    @Input() key: string;\r\n\r\n    card: HTMLElement;\r\n    isOpen: boolean;\r\n\r\n    constructor(el: ElementRef) {\r\n        this.card = el.nativeElement;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this._saveDimens();\r\n        this.isOpen = true;\r\n    }\r\n\r\n    private _saveDimens(): void {\r\n        this.card.dataset.width = this.card.offsetWidth.toString();\r\n        this.card.dataset.height = this.card.offsetHeight.toString();\r\n    }\r\n\r\n    close(delay?: number): void {\r\n\r\n        delay = delay || 10;\r\n\r\n        this._saveDimens();\r\n\r\n        setTimeout(() => {\r\n            if (window.innerWidth < 500) {\r\n                this._closeVertical();\r\n            } else {\r\n                this._closeHorizontal();\r\n            }\r\n            this.isOpen = false;\r\n        }, delay);\r\n    }\r\n\r\n    private _closeVertical(): void {\r\n        let children = this.card.children;\r\n\r\n        for (let i = 0; i < children.length; i++) {\r\n            let child = <HTMLElement>children[i];\r\n            setTimeout(() => {\r\n                child.style.opacity = '0';\r\n            }, 10)\r\n        }\r\n\r\n        this.card.style.height = this.card.offsetHeight + 'px';\r\n        this.card.style.overflow = 'hidden';\r\n\r\n        setTimeout(() => {\r\n            this.card.style.height = '0px';\r\n            this.card.style.opacity = '0.5';\r\n        }, 10);\r\n    }\r\n\r\n    private _closeHorizontal(): void {\r\n        let children = this.card.children;\r\n\r\n        for(let i = 0; i < children.length; i++) {\r\n            let child = <HTMLElement>children[i];\r\n            child.style.width = child.offsetWidth + 'px';\r\n            child.style.boxSizing = 'border-box';\r\n            child.style.transform = 'translateX(-50%)';\r\n            child.style.marginLeft = '50%';\r\n\r\n            setTimeout(() => {\r\n                child.style.opacity = '0';\r\n            }, 10)\r\n        }\r\n\r\n        this.card.style.width = this.card.offsetWidth + 'px';\r\n        this.card.style.overflow = 'hidden';\r\n\r\n        setTimeout(() => {\r\n            this.card.style.flexGrow = '0';\r\n            this.card.style.width = '0px';\r\n            this.card.style.opacity = '0.5';\r\n        }, 10);\r\n    }\r\n\r\n    open(delay?: number): void {\r\n        delay = delay || 10;\r\n\r\n        if (this.card.style.height !== '0px' && this.card.style.width !== '0px') {\r\n            return;   \r\n        }\r\n\r\n        setTimeout(() => {\r\n            let height = this.card.dataset.height,\r\n                width = this.card.dataset.width,\r\n                children = this.card.children;\r\n                \r\n            for(let i = 0; i < children.length; i++) {\r\n                let child = <HTMLElement> children[i];\r\n\r\n                child.style.opacity = '0';\r\n\r\n                setTimeout(() => {\r\n                    child.style.opacity = '1';\r\n                }, 200)\r\n            }\r\n\r\n            this.card.style.overflow = 'hidden';\r\n\r\n            setTimeout(() => {\r\n                this.card.style.height = height + 'px';\r\n                this.card.style.width = width + 'px';\r\n                this.card.style.opacity = '1';\r\n\r\n                setTimeout(() => {\r\n                    this.card.style.flexGrow = '';\r\n                    this.card.style.width = '';\r\n                    this.card.style.height = '';\r\n                    this.card.style.overflow = '';\r\n                }, 500)\r\n            }, 10);\r\n\r\n            this.isOpen = true;\r\n        }, delay);\r\n    }\r\n    \r\n}"]}