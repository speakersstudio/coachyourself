{"version":3,"sources":["../../app/src/app/component/contact.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAAkD;AAClD,0CAAiE;AAGjE,gDAA8C;AAE9C,+DAA6D;AAK7D,2DAAyD;AAEzD,qBAAqB;AAgBrB;IAuBI,0BACW,IAAkB,EACjB,MAAc,EACd,KAAqB,EACrB,IAAa,EACb,WAAwB;QAJzB,SAAI,GAAJ,IAAI,CAAc;QACjB,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAgB;QACrB,SAAI,GAAJ,IAAI,CAAS;QACb,gBAAW,GAAX,WAAW,CAAa;QA3BpC,UAAK,GAAW,uDAAuD,CAAC;QA8BhE,WAAM,GAAW,EAExB,CAAA;IAJG,CAAC;IAML,mCAAQ,GAAR;QACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,IAAI,eAAe,CAAC;QAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC,KAAK,CAAC;IAC1D,CAAC;IAED,6CAAkB,GAAlB;QAAA,iBAoBC;QAnBG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,KAAK,GAAG,qEAAqE,CAAA;YAClF,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAChC,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YAErB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,6BAA6B,EAAE;gBAC1C,OAAO,EAAE,IAAI,CAAC,cAAc;aAC/B,CAAC;iBACG,SAAS,EAAE;iBACX,IAAI,CAAC,UAAA,QAAQ;gBACV,KAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;gBACvB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,CAAC;QACX,CAAC;IACL,CAAC;IAED,wCAAa,GAAb;QAAA,iBAqBC;QApBG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClF,IAAI,CAAC,KAAK,GAAC,sHAAsH,CAAC;QACtI,CAAC;QAAC,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;YAEhB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,wBAAwB,EAAE;gBACrC,QAAQ,EAAE,IAAI,CAAC,WAAW;gBAC1B,WAAW,EAAE,IAAI,CAAC,cAAc;gBAChC,OAAO,EAAE,IAAI,CAAC,UAAU;gBACxB,KAAK,EAAE,IAAI,CAAC,QAAQ;aACvB,CAAC;iBACG,SAAS,EAAE;iBACX,IAAI,CAAC,UAAA,QAAQ;gBACV,KAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC;gBACvB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;gBACrB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACrB,CAAC,CAAC,CAAA;QACV,CAAC;IACL,CAAC;IAnFQ,gBAAgB;QAd5B,gBAAS,CAAC;YACP,QAAQ,EAAE,MAAM,CAAC,EAAE;YACnB,QAAQ,EAAE,SAAS;YACnB,WAAW,EAAE,oCAAoC;YACjD,MAAM,EAAE,CAAC,2NAQR,CAAC;SACL,CAAC;yCAyBmB,4BAAY;YACT,eAAM;YACP,uBAAc;YACf,kBAAO;YACA,0BAAW;OA5B3B,gBAAgB,CAoF5B;IAAD,uBAAC;CApFD,AAoFC,IAAA;AApFY,4CAAgB","file":"contact.component.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppHttp } from '../../data/app-http';\r\n\r\nimport { AppComponent } from '../../component/app.component';\r\nimport { Tool } from '../view/toolbar.view';\r\n\r\nimport { TabData } from '../../model/tab-data';\r\n\r\nimport { UserService } from '../../service/user.service';\r\n\r\n//TODO: import models\r\n\r\n@Component({\r\n    moduleId: module.id,\r\n    selector: \"contact\",\r\n    templateUrl: \"../template/contact.component.html\",\r\n    styles: [`\r\n        #contactSigOutput {\r\n            font-family: 'Alex Brush';\r\n            font-size: 52px;\r\n            transform: rotateZ(-5deg);\r\n            transform-origin: 0%;\r\n            color: #333;\r\n        }\r\n    `]\r\n})\r\nexport class ContactComponent implements OnInit {\r\n    title: string = '<span class=\"light\">contact</span><strong>us</strong>';\r\n\r\n    month: string;\r\n    day: number;\r\n    year: number;\r\n\r\n    name: string;\r\n    email: string;\r\n\r\n    featureMessage: string;\r\n\r\n    bugTryingTo: string;\r\n    bugExpectation: string;\r\n    bugReality: string;\r\n    bugSteps: string;\r\n\r\n    error: string;\r\n    errorField: string;\r\n\r\n    sending: boolean;\r\n    sent: boolean;\r\n\r\n    constructor(\r\n        public _app: AppComponent,\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private http: AppHttp,\r\n        private userService: UserService\r\n    ) { }\r\n\r\n    private _tools: Tool[] = [\r\n\r\n    ]\r\n\r\n    ngOnInit(): void {\r\n        this.name = this.userService.getUserName() || 'A humble user';\r\n        this.email = this.userService.getLoggedInUser().email;\r\n    }\r\n\r\n    sendFeatureRequest(): void {\r\n        if (!this.featureMessage) {\r\n            this.error = \"We appreciate the attention, but you should actually say something.\"\r\n            this.errorField = 'message';\r\n        } else {\r\n            this.error = \"\";\r\n            this.errorField = \"\";\r\n\r\n            this.sending = true;\r\n            this._app.showLoader();\r\n            this.http.post('/api/contact/featurerequest', {\r\n                message: this.featureMessage\r\n            })\r\n                .toPromise()\r\n                .then(response => {\r\n                    this._app.hideLoader();\r\n                    this.sending = false;\r\n                    this.sent = true;\r\n                });\r\n        }\r\n    }\r\n\r\n    sendBugReport(): void {\r\n        if (!this.bugTryingTo && !this.bugExpectation && !this.bugReality && !this.bugSteps) {\r\n            this.error=\"We are truly sorry that you encountered a problem. However, you should probably give us some clue as to what it was.\";\r\n        } else {\r\n            this.error = '';\r\n\r\n            this.sending = true;\r\n            this._app.showLoader();\r\n            this.http.post('/api/contact/bugreport', {\r\n                tryingTo: this.bugTryingTo,\r\n                expectation: this.bugExpectation,\r\n                reality: this.bugReality,\r\n                steps: this.bugSteps\r\n            })\r\n                .toPromise()\r\n                .then(response => {\r\n                    this._app.hideLoader();\r\n                    this.sending = false;\r\n                    this.sent = true;\r\n                })\r\n        }\r\n    }\r\n}\r\n"]}